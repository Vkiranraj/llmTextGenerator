{"ast":null,"code":"var _jsxFileName = \"/Users/kiranrajgobal/Desktop/myRepo/llmTextGenerator/frontend/src/components/JobRow.js\";\nimport React from 'react';\nimport StatusBadge from './StatusBadge';\nimport { jobService } from '../services/api';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst JobRow = ({\n  job,\n  onJobUpdate,\n  onError\n}) => {\n  const formatDate = dateString => {\n    if (!dateString) return 'Never';\n    const date = new Date(dateString);\n    return date.toLocaleString();\n  };\n  const handleRefreshJob = async () => {\n    try {\n      const updatedJob = await jobService.getJob(job.id);\n      onJobUpdate(updatedJob);\n    } catch (error) {\n      console.error('Error refreshing job:', error);\n      onError('Failed to refresh job');\n    }\n  };\n  const handleShowError = () => {\n    if (job.error_stack) {\n      // You could implement a modal here or use a simple alert\n      alert(`Error Details:\\n\\n${job.error_stack}`);\n    }\n  };\n  const renderDownloadCell = () => {\n    if (job.status === 'completed' && job.llm_text_content) {\n      return /*#__PURE__*/_jsxDEV(\"a\", {\n        href: jobService.downloadJob(job.id),\n        className: \"btn btn-success btn-sm download-btn\",\n        download: `llm_${job.id}.txt`,\n        children: [/*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"fas fa-download me-1\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 37,\n          columnNumber: 11\n        }, this), \"Download\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 32,\n        columnNumber: 9\n      }, this);\n    } else if (job.status === 'completed') {\n      return /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"text-muted\",\n        children: \"No content\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 14\n      }, this);\n    } else {\n      return /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"text-muted\",\n        children: \"-\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 14\n      }, this);\n    }\n  };\n  const renderActionsCell = () => {\n    let actions = [];\n    if (job.status === 'error' && job.error_stack) {\n      actions.push(/*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btn btn-outline-danger btn-sm error-btn me-2\",\n        onClick: handleShowError,\n        children: [/*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"fas fa-bug me-1\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 11\n        }, this), \"View Error\"]\n      }, \"error\", true, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 9\n      }, this));\n    }\n    if (job.status === 'completed' || job.status === 'error') {\n      actions.push(/*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btn btn-outline-secondary btn-sm\",\n        onClick: handleRefreshJob,\n        children: [/*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"fas fa-sync me-1\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 11\n        }, this), \"Refresh\"]\n      }, \"refresh\", true, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 9\n      }, this));\n    }\n    return actions.length > 0 ? actions : /*#__PURE__*/_jsxDEV(\"span\", {\n      className: \"text-muted\",\n      children: \"-\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 43\n    }, this);\n  };\n  return /*#__PURE__*/_jsxDEV(\"tr\", {\n    id: `job-${job.id}`,\n    children: [/*#__PURE__*/_jsxDEV(\"td\", {\n      children: /*#__PURE__*/_jsxDEV(\"strong\", {\n        children: [\"#\", job.id]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n      className: \"url-cell\",\n      title: job.url,\n      children: job.url\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n      children: /*#__PURE__*/_jsxDEV(StatusBadge, {\n        status: job.status\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n      children: formatDate(job.created_at)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n      children: formatDate(job.last_crawled)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n      children: renderDownloadCell()\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n      children: renderActionsCell()\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 81,\n    columnNumber: 5\n  }, this);\n};\n_c = JobRow;\nexport default JobRow;\nvar _c;\n$RefreshReg$(_c, \"JobRow\");","map":{"version":3,"names":["React","StatusBadge","jobService","jsxDEV","_jsxDEV","JobRow","job","onJobUpdate","onError","formatDate","dateString","date","Date","toLocaleString","handleRefreshJob","updatedJob","getJob","id","error","console","handleShowError","error_stack","alert","renderDownloadCell","status","llm_text_content","href","downloadJob","className","download","children","fileName","_jsxFileName","lineNumber","columnNumber","renderActionsCell","actions","push","onClick","length","title","url","created_at","last_crawled","_c","$RefreshReg$"],"sources":["/Users/kiranrajgobal/Desktop/myRepo/llmTextGenerator/frontend/src/components/JobRow.js"],"sourcesContent":["import React from 'react';\nimport StatusBadge from './StatusBadge';\nimport { jobService } from '../services/api';\n\nconst JobRow = ({ job, onJobUpdate, onError }) => {\n  const formatDate = (dateString) => {\n    if (!dateString) return 'Never';\n    const date = new Date(dateString);\n    return date.toLocaleString();\n  };\n\n  const handleRefreshJob = async () => {\n    try {\n      const updatedJob = await jobService.getJob(job.id);\n      onJobUpdate(updatedJob);\n    } catch (error) {\n      console.error('Error refreshing job:', error);\n      onError('Failed to refresh job');\n    }\n  };\n\n  const handleShowError = () => {\n    if (job.error_stack) {\n      // You could implement a modal here or use a simple alert\n      alert(`Error Details:\\n\\n${job.error_stack}`);\n    }\n  };\n\n  const renderDownloadCell = () => {\n    if (job.status === 'completed' && job.llm_text_content) {\n      return (\n        <a\n          href={jobService.downloadJob(job.id)}\n          className=\"btn btn-success btn-sm download-btn\"\n          download={`llm_${job.id}.txt`}\n        >\n          <i className=\"fas fa-download me-1\"></i>\n          Download\n        </a>\n      );\n    } else if (job.status === 'completed') {\n      return <span className=\"text-muted\">No content</span>;\n    } else {\n      return <span className=\"text-muted\">-</span>;\n    }\n  };\n\n  const renderActionsCell = () => {\n    let actions = [];\n\n    if (job.status === 'error' && job.error_stack) {\n      actions.push(\n        <button\n          key=\"error\"\n          className=\"btn btn-outline-danger btn-sm error-btn me-2\"\n          onClick={handleShowError}\n        >\n          <i className=\"fas fa-bug me-1\"></i>\n          View Error\n        </button>\n      );\n    }\n\n    if (job.status === 'completed' || job.status === 'error') {\n      actions.push(\n        <button\n          key=\"refresh\"\n          className=\"btn btn-outline-secondary btn-sm\"\n          onClick={handleRefreshJob}\n        >\n          <i className=\"fas fa-sync me-1\"></i>\n          Refresh\n        </button>\n      );\n    }\n\n    return actions.length > 0 ? actions : <span className=\"text-muted\">-</span>;\n  };\n\n  return (\n    <tr id={`job-${job.id}`}>\n      <td><strong>#{job.id}</strong></td>\n      <td className=\"url-cell\" title={job.url}>\n        {job.url}\n      </td>\n      <td>\n        <StatusBadge status={job.status} />\n      </td>\n      <td>{formatDate(job.created_at)}</td>\n      <td>{formatDate(job.last_crawled)}</td>\n      <td>{renderDownloadCell()}</td>\n      <td>{renderActionsCell()}</td>\n    </tr>\n  );\n};\n\nexport default JobRow;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}